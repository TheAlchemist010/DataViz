{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {
    "url": "https://raw.githubusercontent.com/TheAlchemist010/DataViz/refs/heads/main/A2/data/Election_Data.csv"
  },
   "title": {
    "text": [
      "We should enforce higher emission standards for cars"
    ]
  },
  "width": "container",
  "background": "#eaf2f8",
  "height": 150,
  "transform": [
    {
      "filter": {
        "field": "d21p1",
        "oneOf": [1, 2, 3,4,5]
      }
    },
    {
      "lookup": "d21p1",
      "from": {
        "key": "value",
        "fields": ["label"],
        "data": { "values": [
          {"value": 1, "label": "Yes"},
          {"value": 2, "label": "Yes"},
          {"value": 3, "label": "Depends"},
          {"value": 4, "label": "No"},
          {"value": 5, "label": "No"}
        ]}
      }
    },
    {
      "aggregate": [{"op": "count", "as": "count"}],
      "groupby": ["label"]
    }
  ],
  "layer": [
    {
      "mark": {"type": "arc"},
      "encoding": {
        "theta": {
          "field": "count",
          "type": "quantitative"
        },
        "color": {
          "field": "label",  
          "type": "nominal",
          "legend": null,
          "scale": {
            "domain": ["Yes", "Depends", "No"],
            "range": ["Green", "Grey", "Red"]
          }
        },
        "tooltip": [
          {"field": "label", "title": "Response"},  
          {"field": "count", "title": "Count"}
        ]
      }
    }
  ]
}
